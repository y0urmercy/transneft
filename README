# Transneft QA System

Вопросно-ответная система для работы с корпоративной информацией ПАО «Транснефть» на основе технологии RAG (Retrieval-Augmented Generation).

## Технологический стек

### Backend
- **Python 3.8+** - основной язык программирования
- **FastAPI** - веб-фреймворк для API
- **SQLite** - база данных для хранения истории чатов
- **FAISS** - векторное хранилище для семантического поиска
- **SentenceTransformers** - модели для создания эмбеддингов

### Обработка данных
- **NLTK** - обработка естественного языка
- **Pandas** - анализ данных
- **Docx-parser** - извлечение текста из документов

### Метрики оценки
- **ROUGE, BLEU, BERTScore** - оценка качества генерации
- **NDCG, MRR, Precision** - оценка качества поиска
- **METEOR** - семантическое сходство ответов

## Как работает система

### 1. Подготовка данных
- Парсинг документов .docx с информацией о Транснефти
- Семантическое чанкование на логические блоки
- Создание векторных эмбеддингов с помощью SentenceTransformers
- Построение FAISS индекса для быстрого поиска

### 2. Обработка запросов
- Получение вопроса от пользователя
- Векторный поиск релевантных фрагментов
- Ранжирование результатов по семантической схожести
- Генерация ответа на основе найденной информации

### 3. Особенности системы
- Специализация на информации о ПАО «Транснефть»
- Поддержка русскоязычных запросов
- Хранение истории диалогов
- REST API для интеграции с другими системами

## Метрики качества

Система оценивалась на 40 QA-парах:

- **NDCG**: 94.05% - качество ранжирования результатов
- **METEOR**: 90.00% - семантическое сходство ответов  
- **Precision**: 91.50% - точность поиска релевантных документов
- **MRR**: 100.00% - эффективность поиска первого релевантного ответа
- **BERTScore**: 56.39% - семантическое сходство на основе BERT
- **ROUGE-1**: 17.88% - сходство по униграммам
- **ROUGE-2**: 7.04% - сходство по биграммам
- **BLEU**: 9.09% - качество генерации текста

## Быстрый старт

### Установка
```bash
pip install -r requirements.txt
