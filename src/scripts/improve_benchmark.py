import os
import sys
import json

sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from utils.config import BENCHMARK_PATH


def improve_benchmark():
    """–£–ª—É—á—à–∞–µ—Ç –±–µ–Ω—á–º–∞—Ä–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"""

    # –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â–∏–π –±–µ–Ω—á–º–∞—Ä–∫
    with open(BENCHMARK_PATH, 'r', encoding='utf-8') as f:
        benchmark = json.load(f)

    # –£–ª—É—á—à–∞–µ–º –æ—Ç–≤–µ—Ç—ã –¥–ª—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
    improvements = {
        1: "26 –∞–≤–≥—É—Å—Ç–∞ 1993 –≥–æ–¥–∞.",  # –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        4: "100% –æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—ã—Ö –∞–∫—Ü–∏–π –ê–û ¬´–¢—Ä–∞–Ω—Å–Ω–µ—Ñ—Ç–µ–ø—Ä–æ–¥—É–∫—Ç¬ª.",  # –£—Å—Ç–∞–≤–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª 2007
        5: "–ï—â–µ 2 —Ä–∞–∑–∞: –≤ 2017 –∏ 2018 –≥–æ–¥–∞—Ö.",  # –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–∞–ø–∏—Ç–∞–ª–∞
        16: "–î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∞—É–¥–∏—Ç–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π.",  # –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –∞—É–¥–∏—Ç–∞
        19: "–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–æ–≤ –Ω–∞ —É–∑–ª–æ–≤—ã—Ö –Ω–µ—Ñ—Ç–µ–ø–µ—Ä–µ–∫–∞—á–∏–≤–∞—é—â–∏—Ö —Å—Ç–∞–Ω—Ü–∏—è—Ö.",  # –ü—Ä–æ–µ–∫—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
        20: "–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –µ–º–∫–æ—Å—Ç–∏ —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–Ω—ã—Ö –ø–∞—Ä–∫–æ–≤ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–µ—Ñ—Ç–∏.",
        # –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ –∫–∞—á–µ—Å—Ç–≤–∞
        24: "–î–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–∞–≤–æ–∫ –Ω–µ—Ñ—Ç–∏ –≤ –ó–∞–ø–∞–¥–Ω—É—é –ï–≤—Ä–æ–ø—É –∑–∞ —Å—á–µ—Ç –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≥—Ä—É–∑–æ–∫ –Ω–µ—Ñ—Ç–∏ —Å –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤ –≤ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ø–æ—Ä—Ç –Ω–∞ –ë–∞–ª—Ç–∏–π—Å–∫–æ–º –º–æ—Ä–µ.",
        # –¶–µ–ª—å –ë–¢–°-2
        33: "–ü–æ—á—Ç–∏ 19,2 —Ç—ã—Å. –∫–º.",  # –ö–∏–ª–æ–º–µ—Ç—Ä—ã –≤ –°–°–°–†
        39: "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –ø–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—é –æ—Ö—Ä–∞–Ω—ã –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã –≤ —Ä–∞–π–æ–Ω–∞—Ö —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ —Ç—Ä—É–±–æ–ø—Ä–æ–≤–æ–¥–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞."
        # –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
    }

    # –ü—Ä–∏–º–µ–Ω—è–µ–º —É–ª—É—á—à–µ–Ω–∏—è
    for triplet_id, improved_answer in improvements.items():
        for item in benchmark:
            if item['triplet_id'] == triplet_id:
                item['answer'] = improved_answer
                print(f"‚úÖ –£–ª—É—á—à–µ–Ω –≤–æ–ø—Ä–æ—Å {triplet_id}: {improved_answer}")
                break

    # –°–æ—Ö—Ä–∞–Ω—è–µ–º —É–ª—É—á—à–µ–Ω–Ω—ã–π –±–µ–Ω—á–º–∞—Ä–∫
    improved_path = BENCHMARK_PATH.replace('.json', '_improved.json')
    with open(improved_path, 'w', encoding='utf-8') as f:
        json.dump(benchmark, f, ensure_ascii=False, indent=2)

    print(f"üíæ –£–ª—É—á—à–µ–Ω–Ω—ã–π –±–µ–Ω—á–º–∞—Ä–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω: {improved_path}")
    return improved_path


if __name__ == "__main__":
    improve_benchmark()